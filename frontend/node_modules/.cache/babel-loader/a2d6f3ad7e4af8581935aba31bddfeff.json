{"ast":null,"code":"var _jsxFileName = \"/home/my/Desktop/Course/687/Project/Final/demo/frontend/src/components/Home/index.js\";\nimport Banner from \"./Banner\";\nimport Navbar from \"./Navbar\";\nimport Content from \"./Content\";\nimport Container from \"@material-ui/core/Container\";\nimport React, { useEffect } from \"react\";\nimport * as actions from \"../../actions/home\";\nimport { connect } from \"react-redux\";\nimport { Switch, Route, useRouteMatch, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nconst sections = [{\n  title: \"Recommendation\",\n  path: \"recommendation\"\n}, {\n  title: \"Daily Feed\",\n  path: \"daily-feed\"\n}, {\n  title: \"Cattery\",\n  path: \"cattery\"\n}, {\n  title: \"Cat Food\",\n  path: \"cat-food\"\n}, {\n  title: \"Cat Product\",\n  path: \"cat-product\"\n}, {\n  title: \"Cat Dating\",\n  path: \"cat-dating\"\n}];\n\nfunction Home(props) {\n  let match = useRouteMatch();\n  useEffect(() => {\n    props.changeHomeContentData(match.params.topic);\n  });\n  return /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Banner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Navbar, {\n    sections: sections,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, sections.map(section => /*#__PURE__*/React.createElement(Route, {\n    path: `/t/${section.path}`,\n    key: `home-${section.path}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Redirect, {\n    from: \"/\",\n    to: \"/t/recommendation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  })));\n}\n\nconst mapDispatchToProps = dispatch => ({\n  changeHomeContentData(topic = 'daily-feed') {\n    /*axios.get(`/api/posts/t/${topic}.json`).then((res) => {\n        const result = res.data;\n        dispatch(actions.changHomeContentData(result));\n    }).catch((err) => {\n        console.log(err);\n    });*/\n    axios({\n      method: 'post',\n      url: localStorage.getItem(\"ip\") + '/api/v1/user-profile/recommendation',\n      params: {}\n    }).then(res => {\n      const result = res.data;\n      dispatch(actions.changHomeContentData(result));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n});\n\nexport default connect(null, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/home/my/Desktop/Course/687/Project/Final/demo/frontend/src/components/Home/index.js"],"names":["Banner","Navbar","Content","Container","React","useEffect","actions","connect","Switch","Route","useRouteMatch","Redirect","axios","sections","title","path","Home","props","match","changeHomeContentData","params","topic","map","section","mapDispatchToProps","dispatch","method","url","localStorage","getItem","then","res","result","data","changHomeContentData","catch","err","console","log"],"mappings":"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","sourcesContent":["import Banner from \"./Banner\";\nimport Navbar from \"./Navbar\";\nimport Content from \"./Content\";\nimport Container from \"@material-ui/core/Container\";\nimport React, {useEffect} from \"react\";\nimport * as actions from \"../../actions/home\";\nimport {connect} from \"react-redux\";\nimport {\n    Switch,\n    Route,\n    useRouteMatch, Redirect\n} from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst sections = [\n    {\n        title: \"Recommendation\",\n        path: \"recommendation\",\n    },\n    {\n        title: \"Daily Feed\",\n        path: \"daily-feed\",\n    },\n    {\n        title: \"Cattery\",\n        path: \"cattery\",\n    },\n    {\n        title: \"Cat Food\",\n        path: \"cat-food\",\n    },\n    {\n        title: \"Cat Product\",\n        path: \"cat-product\",\n    },\n    {\n        title: \"Cat Dating\",\n        path: \"cat-dating\",\n    },\n]\n\nfunction Home(props) {\n    let match = useRouteMatch();\n\n    useEffect(() => {\n        props.changeHomeContentData(match.params.topic);\n    });\n\n    return (\n        <Container maxWidth=\"lg\">\n            <Banner/>\n            <Navbar sections={sections}/>\n            <Switch>\n                {\n                    sections.map((section) => (\n                        <Route path={`/t/${section.path}`} key={`home-${section.path}`}>\n                            <Content/>\n                        </Route>\n                    ))\n                }\n                <Redirect from=\"/\" to=\"/t/recommendation\"/>\n            </Switch>\n        </Container>\n    )\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    changeHomeContentData(topic = 'daily-feed') {\n        /*axios.get(`/api/posts/t/${topic}.json`).then((res) => {\n            const result = res.data;\n            dispatch(actions.changHomeContentData(result));\n        }).catch((err) => {\n            console.log(err);\n        });*/\n        axios({\n            method: 'post',\n            url:localStorage.getItem(\"ip\")+'/api/v1/user-profile/recommendation',\n            params:{ }\n        }).then(res => {\n           const result = res.data;\n           dispatch(actions.changHomeContentData(result));\n        }).catch((err) => {\n            console.log(err);\n        });\n    }\n})\n\nexport default connect(null, mapDispatchToProps)(Home)\n"]},"metadata":{},"sourceType":"module"}