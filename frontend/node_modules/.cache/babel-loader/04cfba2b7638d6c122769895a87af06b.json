{"ast":null,"code":"var _jsxFileName = \"/home/my/Desktop/Course/687/Project/Cattraction/frontend/src/components/CreatePost/index.js\";\nimport Container from \"@material-ui/core/Container\";\nimport React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport axios from \"axios\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport Radio from \"@material-ui/core/Radio\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nconst useStyles = makeStyles(theme => ({\n  container: {\n    marginTop: '20px',\n    boxShadow: '0 2px 8px 0 rgba(0,0,0,.05)',\n    backgroundColor: '#fff',\n    padding: '20px'\n  },\n  input: {\n    display: 'none'\n  },\n  submitDiv: {\n    marginTop: theme.spacing(4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  imgGrid: {\n    position: 'relative',\n    display: 'block'\n  },\n  deleteBtn: {\n    position: 'absolute',\n    right: '50%'\n  },\n  formControl: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    minWidth: 240\n  }\n}));\n\nfunction CreatePost(props) {\n  const classes = useStyles();\n  const [photos, setPhotos] = useState([]);\n  const [description, setDescription] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [postCategory, setPostCategory] = useState(\"general\");\n  const [catName, setCatName] = useState(\"\");\n  const [catAge, setCatAge] = useState(\"\");\n  const [catGender, setCatGender] = useState(\"\");\n  const [catBreed, setCatBreed] = useState(\"\");\n  const [catLocation, setCatLocation] = useState(\"\");\n  const [postTitle, setPostTitle] = useState(\"\");\n\n  const handleSubmit = () => {\n    const form = new FormData();\n\n    for (let i in photos) {\n      form.append('photos', photos[i]);\n    }\n\n    const data = {};\n    data.push(description);\n    data.push(postTitle);\n    data.push(localStorage.getItem('email'));\n    data.push(new Date().toLocaleString()); // data['description'] = description;\n    // data['title'] = postTitle;\n    // data['creater'] = localStorage.getItem('email');\n    // data['time'] = new Date().toLocaleString();\n\n    /*\n    form.append('description', description);\n    form.append('title', postTitle);\n    form.append('creater', localStorage.getItem('email'));\n    form.append('time', new Date().toLocaleString());\n    */\n\n    if (postCategory === \"general\") {\n      form.append('data', data);\n      return axios.post(localStorage.getItem(\"ip\") + \"/api/v1/posts/newpost\", form, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(res => {\n        console.log(res);\n        alert(\"Submit successfully!\");\n        setSuccess(true);\n      });\n    } else if (postCategory === \"catDating\") {\n      data['catName'] = catName;\n      data['catBreed'] = catBreed;\n      data['catLocation'] = catLocation;\n      data['catGender'] = catGender;\n      data['catAge'] = catAge;\n      form.append('data', data);\n      return axios.post(localStorage.getItem(\"ip\") + \"/api/v1/posts/newcatpost\", form, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(res => {\n        console.log(res);\n        alert(\"Submit successfully!\");\n        setSuccess(true);\n      });\n    }\n  };\n\n  const handleDeletePhoto = index => {\n    const newPhotos = [...photos];\n    newPhotos.splice(index, 1);\n    setPhotos(newPhotos);\n  };\n\n  if (!props.loginStatus) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 16\n      }\n    });\n  }\n\n  if (success) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"lg\",\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, \"Create a New Post\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"select-category-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  }, \"Post Category\"), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"select-category-label\",\n    id: \"demo-simple-select-outlined\",\n    value: postCategory,\n    onChange: e => setPostCategory(e.target.value),\n    label: \"Post Category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"general\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }, \"General\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"catDating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 33\n    }\n  }, \"Cat Dating\"))), postCategory === \"catDating\" ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 60\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    style: {\n      width: '50%',\n      margin: '1rem 0'\n    },\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    value: catName,\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"catName\",\n    label: \"Cat Name\",\n    type: \"text\",\n    id: \"catName\",\n    onChange: e => setCatName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    component: \"fieldset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 49\n    }\n  }, \"Gender\"), /*#__PURE__*/React.createElement(RadioGroup, {\n    row: true,\n    name: \"gender1\",\n    value: catGender,\n    onChange: e => setCatGender(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"1\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 90\n      }\n    }),\n    label: \"\\u2642\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 53\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"0\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 90\n      }\n    }),\n    label: \"\\u2640\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 53\n    }\n  })))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    value: catAge,\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"catAge\",\n    label: \"Cat Age\",\n    name: \"catAge\",\n    type: \"text\",\n    onChange: e => setCatAge(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    value: catBreed,\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"catBreed\",\n    label: \"Cat Breed\",\n    type: \"text\",\n    id: \"catBreed\",\n    autoComplete: \"current-password\",\n    onChange: e => setCatBreed(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    value: catLocation,\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"catLocation\",\n    label: \"Cat Location\",\n    type: \"text\",\n    id: \"catLocation\",\n    onChange: e => setCatLocation(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 45\n    }\n  }))))) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }, \"Upload your cat photos:\"), /*#__PURE__*/React.createElement(\"input\", {\n    accept: \"image/*\",\n    className: classes.input,\n    id: \"contained-button-file\",\n    multiple: true,\n    type: \"file\",\n    value: \"\",\n    onChange: e => {\n      setPhotos([...photos, e.target.files[0]]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 25\n    }\n  }, photos.map((photo, index) => /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classes.imgGrid,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: URL.createObjectURL(photo),\n    alt: \"preview\",\n    style: {\n      width: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    className: classes.deleteBtn,\n    variant: \"outlined\",\n    onClick: () => handleDeletePhoto(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 45\n    }\n  }))))), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"contained-button-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 29\n    }\n  }, \"Upload Image\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      minWidth: \"300px\"\n    },\n    value: postTitle,\n    variant: \"outlined\",\n    required: true,\n    name: \"postTitle\",\n    label: \"Post Title\",\n    type: \"text\",\n    id: \"postTitle\",\n    onChange: e => setPostTitle(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 25\n    }\n  }, \"Describe your post here:\"), /*#__PURE__*/React.createElement(TextField, {\n    id: \"description\",\n    name: \"description\",\n    label: \"Description\",\n    variant: \"outlined\",\n    placeholder: \"Describe your post here...\",\n    rows: 4,\n    fullWidth: true,\n    multiline: true,\n    onChange: e => setDescription(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.submitDiv,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n}\n\nconst mapStatesToProps = state => ({\n  loginStatus: state.getIn(['auth', 'loginStatus'])\n});\n\nexport default connect(mapStatesToProps, null)(CreatePost);","map":{"version":3,"sources":["/home/my/Desktop/Course/687/Project/Cattraction/frontend/src/components/CreatePost/index.js"],"names":["Container","React","useState","makeStyles","Grid","Redirect","connect","Button","IconButton","TextField","Typography","axios","DeleteIcon","MenuItem","FormControl","InputLabel","Select","Radio","FormControlLabel","FormLabel","RadioGroup","useStyles","theme","container","marginTop","boxShadow","backgroundColor","padding","input","display","submitDiv","spacing","flexDirection","alignItems","imgGrid","position","deleteBtn","right","formControl","marginBottom","minWidth","CreatePost","props","classes","photos","setPhotos","description","setDescription","success","setSuccess","postCategory","setPostCategory","catName","setCatName","catAge","setCatAge","catGender","setCatGender","catBreed","setCatBreed","catLocation","setCatLocation","postTitle","setPostTitle","handleSubmit","form","FormData","i","append","data","push","localStorage","getItem","Date","toLocaleString","post","headers","then","res","console","log","alert","handleDeletePhoto","index","newPhotos","splice","loginStatus","e","target","value","width","margin","files","map","photo","URL","createObjectURL","mapStatesToProps","state","getIn"],"mappings":"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","sourcesContent":["import Container from \"@material-ui/core/Container\";\nimport React, {useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport axios from \"axios\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport Radio from \"@material-ui/core/Radio\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        marginTop: '20px',\n        boxShadow: '0 2px 8px 0 rgba(0,0,0,.05)',\n        backgroundColor: '#fff',\n        padding: '20px',\n    },\n    input: {\n        display: 'none',\n    },\n    submitDiv: {\n        marginTop: theme.spacing(4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    imgGrid: {\n        position: 'relative',\n        display: 'block',\n    },\n    deleteBtn: {\n        position: 'absolute',\n        right: '50%',\n    },\n    formControl: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n        minWidth: 240,\n    },\n}));\n\nfunction CreatePost(props) {\n    const classes = useStyles();\n\n    const [photos, setPhotos] = useState([])\n    const [description, setDescription] = useState('')\n    const [success, setSuccess] = useState(false);\n    const [postCategory, setPostCategory] = useState(\"general\");\n    const [catName, setCatName] = useState(\"\");\n    const [catAge, setCatAge] = useState(\"\");\n    const [catGender, setCatGender] = useState(\"\");\n    const [catBreed, setCatBreed] = useState(\"\");\n    const [catLocation, setCatLocation] = useState(\"\");\n    const [postTitle, setPostTitle] = useState(\"\");\n\n    const handleSubmit = () => {\n        const form = new FormData();\n        for (let i in photos) {\n            form.append('photos', photos[i]);\n        }\n        const data = {};\n        data.push(description);\n        data.push(postTitle);\n        data.push(localStorage.getItem('email'));\n        data.push(new Date().toLocaleString());\n        // data['description'] = description;\n        // data['title'] = postTitle;\n        // data['creater'] = localStorage.getItem('email');\n        // data['time'] = new Date().toLocaleString();\n        /*\n        form.append('description', description);\n        form.append('title', postTitle);\n        form.append('creater', localStorage.getItem('email'));\n        form.append('time', new Date().toLocaleString());\n        */\n        if (postCategory === \"general\") {\n          form.append('data', data);\n            return axios.post(\n                localStorage.getItem(\"ip\") + \"/api/v1/posts/newpost\",\n                form,\n                {\n                    headers: {'Content-Type': 'multipart/form-data'},\n                }\n            ).then(res => {\n                console.log(res);\n                alert(\"Submit successfully!\")\n                setSuccess(true);\n            })\n        } else if (postCategory === \"catDating\") {\n          data['catName'] = catName;\n          data['catBreed'] = catBreed;\n          data['catLocation'] = catLocation;\n          data['catGender'] = catGender;\n          data['catAge'] = catAge;\n          form.append('data', data);\n            return axios.post(\n                localStorage.getItem(\"ip\") + \"/api/v1/posts/newcatpost\",\n                form,\n                {\n                    headers: {'Content-Type': 'multipart/form-data'},\n                }\n            ).then(res => {\n                console.log(res);\n                alert(\"Submit successfully!\")\n                setSuccess(true);\n            })\n        }\n    }\n\n    const handleDeletePhoto = (index) => {\n        const newPhotos = [...photos];\n        newPhotos.splice(index, 1);\n        setPhotos(newPhotos);\n    }\n\n    if (!props.loginStatus) {\n        return <Redirect to=\"/login\"/>\n    }\n\n    if (success) {\n        return <Redirect to=\"/home\"/>\n    }\n\n    return (\n        <React.Fragment>\n            <Container maxWidth=\"lg\" className={classes.container}>\n                <Typography variant=\"h4\" gutterBottom>\n                    Create a New Post\n                </Typography>\n                <Grid container spacing={3}>\n                    <Grid item xs={12}>\n                        <FormControl variant=\"outlined\" className={classes.formControl}>\n                            <InputLabel id=\"select-category-label\">Post Category</InputLabel>\n                            <Select\n                                labelId=\"select-category-label\"\n                                id=\"demo-simple-select-outlined\"\n                                value={postCategory}\n                                onChange={e => setPostCategory(e.target.value)}\n                                label=\"Post Category\"\n                            >\n                                <MenuItem value={\"general\"}>General</MenuItem>\n                                <MenuItem value={\"catDating\"}>Cat Dating</MenuItem>\n                            </Select>\n                        </FormControl>\n                        {\n                            postCategory === \"catDating\" ? <div>\n                                <form style={{width: '50%', margin: '1rem 0'}} noValidate>\n                                    <Grid container spacing={2}>\n                                        <Grid item xs={12}>\n                                            <TextField\n                                                value={catName}\n                                                variant=\"outlined\"\n                                                required\n                                                fullWidth\n                                                name=\"catName\"\n                                                label=\"Cat Name\"\n                                                type=\"text\"\n                                                id=\"catName\"\n                                                onChange={e => setCatName(e.target.value)}\n                                            />\n                                        </Grid>\n                                        <Grid item xs={12}>\n                                            <FormControl component=\"fieldset\">\n                                                <FormLabel component=\"legend\">Gender</FormLabel>\n                                                <RadioGroup row name=\"gender1\" value={catGender}\n                                                            onChange={e => setCatGender(e.target.value)}>\n                                                    <FormControlLabel value=\"1\" control={<Radio/>} label=\"♂\"/>\n                                                    <FormControlLabel value=\"0\" control={<Radio/>} label=\"♀\"/>\n                                                </RadioGroup>\n                                            </FormControl>\n                                        </Grid>\n                                        <Grid item xs={12}>\n                                            <TextField\n                                                value={catAge}\n                                                variant=\"outlined\"\n                                                required\n                                                fullWidth\n                                                id=\"catAge\"\n                                                label=\"Cat Age\"\n                                                name=\"catAge\"\n                                                type=\"text\"\n                                                onChange={e => setCatAge(e.target.value)}\n                                            />\n                                        </Grid>\n                                        <Grid item xs={12}>\n                                            <TextField\n                                                value={catBreed}\n                                                variant=\"outlined\"\n                                                required\n                                                fullWidth\n                                                name=\"catBreed\"\n                                                label=\"Cat Breed\"\n                                                type=\"text\"\n                                                id=\"catBreed\"\n                                                autoComplete=\"current-password\"\n                                                onChange={e => setCatBreed(e.target.value)}\n                                            />\n                                        </Grid>\n                                        <Grid item xs={12}>\n                                            <TextField\n                                                value={catLocation}\n                                                variant=\"outlined\"\n                                                required\n                                                fullWidth\n                                                name=\"catLocation\"\n                                                label=\"Cat Location\"\n                                                type=\"text\"\n                                                id=\"catLocation\"\n                                                onChange={e => setCatLocation(e.target.value)}\n                                            />\n                                        </Grid>\n                                    </Grid>\n                                </form>\n                            </div> : <React.Fragment/>\n                        }\n                        <Typography variant=\"h6\" gutterBottom>\n                            Upload your cat photos:\n                        </Typography>\n                        <input\n                            accept=\"image/*\"\n                            className={classes.input}\n                            id=\"contained-button-file\"\n                            multiple\n                            type=\"file\"\n                            value=\"\"\n                            onChange={e => {\n                                setPhotos([...photos, e.target.files[0]])\n                            }}\n                        />\n                        <Grid container>\n                            {\n                                photos.map((photo, index) => (\n                                    <Grid item xs={12} className={classes.imgGrid} key={index}>\n                                        <img\n                                            src={URL.createObjectURL(photo)}\n                                            alt=\"preview\"\n                                            style={{width: \"50%\"}}\n                                        />\n                                        <IconButton\n                                            className={classes.deleteBtn}\n                                            variant=\"outlined\"\n                                            onClick={() => handleDeletePhoto(index)}\n                                        >\n                                            <DeleteIcon/>\n                                        </IconButton>\n                                    </Grid>\n                                ))\n                            }\n                        </Grid>\n                        <label htmlFor=\"contained-button-file\">\n                            <Button variant=\"contained\" color=\"primary\" component=\"span\">\n                                Upload Image\n                            </Button>\n                        </label>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <TextField\n                            style={{minWidth: \"300px\"}}\n                            value={postTitle}\n                            variant=\"outlined\"\n                            required\n                            name=\"postTitle\"\n                            label=\"Post Title\"\n                            type=\"text\"\n                            id=\"postTitle\"\n                            onChange={e => setPostTitle(e.target.value)}\n                        />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Describe your post here:\n                        </Typography>\n                        <TextField\n                            id=\"description\"\n                            name=\"description\"\n                            label=\"Description\"\n                            variant=\"outlined\"\n                            placeholder=\"Describe your post here...\"\n                            rows={4}\n                            fullWidth\n                            multiline\n                            onChange={e => setDescription(e.target.value)}\n                        />\n                    </Grid>\n                </Grid>\n            </Container>\n            <div className={classes.submitDiv}>\n                <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Submit</Button>\n            </div>\n        </React.Fragment>\n    )\n}\n\nconst mapStatesToProps = (state) => ({\n    loginStatus: state.getIn(['auth', 'loginStatus']),\n})\n\nexport default connect(mapStatesToProps, null)(CreatePost)\n"]},"metadata":{},"sourceType":"module"}